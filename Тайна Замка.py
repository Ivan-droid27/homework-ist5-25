1
print("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É –¢–∞–π–Ω–∞ –∑–∞–º–∫–∞!")
print("–í—ã —Å—Ç–æ–∏—Ç–µ —É –ø–æ–¥–Ω–æ–∂–∏—è —Å—Ç–∞—Ä–æ–≥–æ –∑–∞–±—Ä–æ—à–µ–Ω–Ω–æ–≥–æ –∑–∞–º–∫–∞...")

health = 100
inventory = []
stage = 1
has_apple = False
has_key = False
has_amulet = False

while True:
    print("\n–ß—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å?")

    if stage == 1:
        print("1 - –û—Å–º–æ—Ç—Ä–µ—Ç—å –¥–≤–æ—Ä")
        print("2 - –ü–æ—Å—Ç—É—á–∞—Ç—å –≤ –¥–≤–µ—Ä—å")
        print("3 - –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –æ–∫–Ω–æ")
    
    elif stage == 2:
        print("1 - –û—Å–º–æ—Ç—Ä–µ—Ç—å –≥–ª–∞–≤–Ω—ã–π –∑–∞–ª")
        print("2 - –ü–æ–¥–Ω—è—Ç—å—Å—è –Ω–∞–≤–µ—Ä—Ö")
        print("3 - –ó–∞–π—Ç–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É")

    elif stage == 3:
        print("1 - –ò—Å–∫–∞—Ç—å –≤ —Å–ø–∞–ª—å–Ω–µ")
        print("2 - –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω—ã–π –∑–∞–ª")
    
    elif stage == 4:
        print("1 - –ß–∏—Ç–∞—Ç—å –∫–Ω–∏–≥–∏")
        print("2 - –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω—ã–π –∑–∞–ª")
    
    elif stage == 5:
        print("1 - –ü–æ–¥–Ω—è—Ç—å—Å—è –≤ –±–∞—à–Ω—é")
        print("2 - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å")
        print("3 - –í—ã–π—Ç–∏ –∏–∑ –∑–∞–º–∫–∞")

    choice = input("–í–∞—à –≤—ã–±–æ—Ä: ").strip()

    # --- –°–¢–ê–î–ò–Ø 1 ---
    if stage == 1:
        if choice == "1":
            if not has_apple:
                print('\033[33m' + '–í—ã –Ω–∞—à–ª–∏ —è–±–ª–æ–∫–æ üçé  –∏ –ø–æ–ª–æ–∂–∏–ª–∏ –µ–≥–æ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å.' + '\033[0m')
                has_apple = True
                inventory.append("—è–±–ª–æ–∫–æ")
            else:
                print("–í—ã —É–∂–µ –≤—Å—ë –æ–±—ã—Å–∫–∞–ª–∏.")
        elif choice == "2":
            print("–í—ã –ø–æ—Å—Ç—É—á–∞–ª–∏... –Ω–∏–∫—Ç–æ –Ω–µ –æ—Ç–∫—Ä—ã–ª. –õ—É—á—à–µ –ø–æ–∏—Å–∫–∞—Ç—å –¥—Ä—É–≥–æ–π –≤—Ö–æ–¥.")
        elif choice == "3":
            print("–í—ã –ø—Ä–æ–ª–µ–∑–ª–∏ —á–µ—Ä–µ–∑ –æ–∫–Ω–æ –∏ –æ–∫–∞–∑–∞–ª–∏—Å—å –≤ –≥–ª–∞–≤–Ω–æ–º –∑–∞–ª–µ.")
            stage = 2
        else:
            print("–¢–∞–∫–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ—Ç.")
    
    # --- –°–¢–ê–î–ò–Ø 2 ---
    elif stage == 2:
        if choice == "1":
            print("–í –∑–∞–ª–µ —Ç–µ–º–Ω–æ, –≤—ã –ø–æ—á—Ç–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –≤–∏–¥–∏—Ç–µ...")
            health -= 25
            print('\033[91m' + '–í—ã —Å–ø–æ—Ç–∫–Ω—É–ª–∏—Å—å –∏ –ø–æ—Ç–µ—Ä—è–ª–∏ 25 –∑–¥–æ—Ä–æ–≤—å—è.' + '\033[0m')
            if health == 0:
                print('\033[91m' + '–í—ã –ø–æ—Ç–µ—Ä—è–ª–∏ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∫—Ä–æ–≤–∏...\n–í–∞—Å –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ç—å–º–∞...' + '\033[0m')
                break
        elif choice == "2":
            print("–í—ã –ø–æ–¥–Ω—è–ª–∏—Å—å –Ω–∞–≤–µ—Ä—Ö –∏ –æ–∫–∞–∑–∞–ª–∏—Å—å –≤ —Å–ø–∞–ª—å–Ω–µ.")
            stage = 3
        elif choice == "3":
            print("–í—ã –≤–æ—à–ª–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É. –ü–æ–≤—Å—é–¥—É –∫–Ω–∏–≥–∏.")
            stage = 4
        else:
            print("–¢–∞–∫–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ—Ç.")

    # --- –°–¢–ê–î–ò–Ø 3 ---
    elif stage == 3:
        if choice == "1":
            if not has_key:
                print('\033[33m' + '–í —à–∫–∞—Ñ—É –≤—ã –Ω–∞—à–ª–∏ —Å—Ç–∞—Ä—ã–π –∫–ª—é—á üóù.' + '\033[0m')
                has_key = True
                inventory.append("–∫–ª—é—á")
            else:
                print("–í—ã —É–∂–µ –≤—Å—ë –æ–±—ã—Å–∫–∞–ª–∏.")
        elif choice == "2":
            print("–í—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –≤ –≥–ª–∞–≤–Ω—ã–π –∑–∞–ª.")
            stage = 2
        else:
            print("–¢–∞–∫–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ—Ç.")

    # --- –°–¢–ê–î–ò–Ø 4 ---
    elif stage == 4:
        if choice == "1":
            print('\033[44m' + '–í—ã –Ω–∞—à–ª–∏ –ø–æ–¥—Å–∫–∞–∑–∫—É: –ê–º—É–ª–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –±–∞—à–Ω–µ.' + '\033[0m')
        elif choice == "2":
            print("–í—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –≤ –≥–ª–∞–≤–Ω—ã–π –∑–∞–ª.")
            stage = 5
        else:
            print("–¢–∞–∫–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ—Ç.")

    # --- –°–¢–ê–î–ò–Ø 5 ---
    elif stage == 5:
        if choice == "1":
            if has_key and not has_amulet:
                print('\033[33m' + '–í—ã –æ—Ç–∫—Ä—ã–ª–∏ —Å—É–Ω–¥—É–∫ –∏ –Ω–∞—à–ª–∏ –∞–º—É–ª–µ—Ç –∑–∞–º–∫–∞ ‚ú®!' + '\033[0m')
                has_amulet = True
                inventory.append("–∞–º—É–ª–µ—Ç")
            elif has_amulet:
                print("–í—ã —É–∂–µ –∑–∞–±—Ä–∞–ª–∏ –∞–º—É–ª–µ—Ç.")
            else:
                print("–í—ã –≤–∏–¥–∏—Ç–µ —Å—É–Ω–¥—É–∫, –Ω–æ –æ–Ω –∑–∞–ø–µ—Ä—Ç. –ù—É–∂–µ–Ω –∫–ª—é—á.")
    
        elif choice == "2":
            while True:
                print(f"\n–ó–¥–æ—Ä–æ–≤—å–µ: {health}")
                print(f"–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å: {', '.join(inventory) if inventory else '–ø—É—Å—Ç–æ'}")
                print("1 - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —è–±–ª–æ–∫–æ")
                print("2 - –í—ã–π—Ç–∏ –∏–∑ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è")
    
                inv_choice = input("–í–∞—à –≤—ã–±–æ—Ä: ").strip()
    
                if inv_choice == "1":
                    if "—è–±–ª–æ–∫–æ" in inventory:
                        health += 25
                        inventory.remove("—è–±–ª–æ–∫–æ")
                        print('\033[32m' + '–í—ã —Å—ä–µ–ª–∏ —è–±–ª–æ–∫–æ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ 25 –∑–¥–æ—Ä–æ–≤—å—è!' + '\033[0m')
                    else:
                        print("–£ –≤–∞—Å –Ω–µ—Ç —è–±–ª–æ–∫–∞ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ.")
                elif inv_choice == "2":
                    break
                else:
                    print("–¢–∞–∫–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ—Ç.")
    
        elif choice == "3":
            if has_amulet:
                print('\033[33m' + '‚ú® –í—ã —Å–Ω—è–ª–∏ –ø—Ä–æ–∫–ª—è—Ç–∏–µ –∑–∞–º–∫–∞ –∏ –ø–æ–ª—É—á–∏–ª–∏ –∏—Å—Ç–∏–Ω–Ω—É—é –∫–æ–Ω—Ü–æ–≤–∫—É!' + '\033[0m')
            else:
                print('\033[90m' + '–í—ã —É—à–ª–∏, —Ç–∞–∫ –∏ –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤ —Ç–∞–π–Ω—É –∑–∞–º–∫–∞...' + '\033[0m')
            break
    
        else:
            print("–¢–∞–∫–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ—Ç.")